(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8205:(e,n,a)=>{Promise.resolve().then(a.bind(a,472))},472:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>b});var r=a(5155),t=a(2115),l=a(4798),o=a(6121),i=a(3667),s=a(91),c=a(2963),d=a(3614),u=a(1566),m=a(2386),h=a(4170),x=a(8003),A=a(813),p=a(9509);function j(e){let{food:n,onDelete:a,onEdit:t}=e;return(0,r.jsxs)(p.A,{onSelect:e=>{"1"===e?t(n):"2"===e&&a(n)},children:[(0,r.jsxs)(p.A.Toggle,{as:m.A.Item,id:"dropdown-basic",className:"d-flex justify-content-between align-items-start",children:[(0,r.jsxs)("div",{className:"ms-2 me-auto",children:[(0,r.jsx)("div",{className:"fw-bold",children:n.name}),"".concat(void 0!==n.info?"".concat(n.info,", "):"").concat(n.amount," ").concat(n.unit)]}),(0,r.jsx)(u.A,{bg:"primary",pill:!0,children:n.calories*n.amount})]}),(0,r.jsxs)(p.A.Menu,{children:[(0,r.jsx)(p.A.Item,{eventKey:"1",children:"Edit"}),(0,r.jsx)(p.A.Item,{eventKey:"2",children:"Delete"})]})]})}let v=[{name:"Chicken Breast, Boneless, Skinless, raw",info:"MGL",amount:3,unit:"oz",calories:32,fat:.8,protein:6,carbs:0},{name:"Pinto Beans (15 oz can) no salt",info:"MGL",amount:5,unit:"oz",calories:26,fat:0,protein:1.4,carbs:4.4},{name:"Roasted Red Salsa",info:"Del Real Fire Roasted Red Salsa",amount:4,unit:"tbps",calories:5,fat:0,protein:0,carbs:0},{name:"Red Onion",info:"MGL",amount:2,unit:"oz",calories:12,fat:0,protein:.6,carbs:5.2},{name:"Red pepper, raw",info:"MGL",amount:4,unit:"oz",calories:9,fat:.1,protein:.3,carbs:1.7},{name:"Olive Oil",info:"MGL",amount:1,unit:"tsp",calories:40,fat:0,protein:0,carbs:0},{name:"Avocado, raw",info:"MGL, 35 gram",amount:35,unit:"gram",calories:2,fat:.1,protein:0,carbs:.1}],f={name:"",info:"",amount:0,unit:"oz",calories:0,fat:0,protein:0,carbs:0},b=()=>{let[e,n]=(0,t.useState)(!1),[a,p]=(0,t.useState)(!1),[b,C]=(0,t.useState)(!1),[y,g]=(0,t.useState)(""),[F,k]=(0,t.useState)(f),[I,L]=(0,t.useState)(f),[N,S]=(0,t.useState)("My Meal"),[G,M]=(0,t.useState)(f),[w,P]=(0,t.useState)([]),[R,B]=(0,t.useState)(!1),E=(0,t.useRef)(null),q=(0,t.useRef)(null),z=(0,t.useRef)(null),O=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(e){var n;null===(n=E.current)||void 0===n||n.focus()}},[e]),(0,t.useEffect)(()=>{if(R&&q){var e,n;null==q||null===(e=q.current)||void 0===e||e.focus(),null==q||null===(n=q.current)||void 0===n||n.select()}},[R]),(0,t.useEffect)(()=>{b&&O&&(O.current.value=I.amount.toString(),O.current.focus(),O.current.select())},[b]);let T=e=>{P(w.filter(n=>n!==e))},H=e=>{L(e),C(!0)},_=e=>{var n;let a={};a[null===(n=e.target)||void 0===n?void 0:n.name]="number"==e.target.type?parseFloat(e.target.value):e.target.value,M({...G,...a})},D=e=>isNaN(e)?0:e-Math.floor(e)!=0?e.toFixed(1):e,K=(e,n)=>{var a;if(!n)return;let r=parseInt((null===(a=n.current)||void 0===a?void 0:a.value)||"1");P([...w,{...e,amount:r}]),k(f),g(""),p(!1)},U=(e,n)=>{var a;if(!n)return;let r=parseInt((null===(a=n.current)||void 0===a?void 0:a.value)||"1"),t={...e,amount:r};P(w.map(e=>e===I?t:e)),L(f),C(!1)},V=w.reduce((e,n)=>e+n.calories*n.amount,0),W=w.reduce((e,n)=>e+n.carbs*n.amount,0),Q=w.reduce((e,n)=>e+n.fat*n.amount,0),J=w.reduce((e,n)=>e+n.protein*n.amount,0),X="Carbs ".concat(D(W),"g/").concat(D(400*W/V),"% \n                                Fat ").concat(D(Q),"g/").concat(D(900*Q/V),"% \n                                Protein ").concat(D(J),"g/").concat(D(400*J/V),"%"),Y=((e,n)=>n?e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())):e)(v,y);return(0,r.jsxs)(l.default,{className:"my-4",fluid:!0,children:[(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{xs:6,children:R?(0,r.jsx)(s.A.Control,{ref:q,onChange:e=>S(e.target.value),onBlur:()=>B(!1),type:"text",placeholder:"Meal Name",value:N}):(0,r.jsxs)(c.A,{onClick:()=>B(!0),size:"lg",variant:"light",children:[N," ",(0,r.jsx)("i",{className:"bi bi-pencil"})]})}),(0,r.jsx)(i.A,{children:(0,r.jsxs)(d.A,{style:{float:"right"},children:[(0,r.jsx)(c.A,{onClick:()=>p(!0),variant:"outline-primary",style:{minWidth:"100px"},children:"Search"}),(0,r.jsx)(c.A,{onClick:()=>n(!0),variant:"outline-primary",style:{minWidth:"100px"},children:"+"})]})})]}),(0,r.jsx)("h2",{children:(0,r.jsx)(u.A,{bg:"primary",pill:!0,children:"".concat(V," calories")})}),(0,r.jsx)("p",{children:X}),(0,r.jsx)(m.A,{as:"ol",children:w.map(e=>(0,r.jsx)(j,{food:e,onDelete:T,onEdit:H},e.name))}),(0,r.jsxs)(h.A,{fullscreen:!0,show:e,onHide:()=>n(!1),children:[(0,r.jsx)(h.A.Header,{closeButton:!0,children:(0,r.jsx)(h.A.Title,{children:"Add Item"})}),(0,r.jsx)(h.A.Body,{children:(0,r.jsxs)(s.A,{validated:!0,onSubmit:e=>{var a;if(e.currentTarget instanceof HTMLFormElement&&(null===(a=e.currentTarget)||void 0===a?void 0:a.nodeName)==="FORM"){if(e.preventDefault(),!1===e.currentTarget.checkValidity()){e.stopPropagation();return}P([...w,{...G}]),n(!1)}},id:"addItemForm",children:[(0,r.jsxs)(o.A,{className:"mb-3",children:[(0,r.jsxs)(s.A.Group,{as:i.A,md:"4",controlId:"validationCustom01",children:[(0,r.jsx)(s.A.Label,{children:"Name"}),(0,r.jsx)(s.A.Control,{required:!0,ref:E,type:"text",placeholder:"Chicken e.g.",name:"name",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Must label item."})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"4",controlId:"validationCustom02",children:[(0,r.jsx)(s.A.Label,{children:"Info"}),(0,r.jsx)(s.A.Control,{type:"text",placeholder:"MGL e.g.",name:"info",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{children:"(Optional)"})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"4",controlId:"validationCustomUsername",children:[(0,r.jsx)(s.A.Label,{children:"Amount"}),(0,r.jsxs)(x.A,{hasValidation:!0,children:[(0,r.jsx)(s.A.Control,{type:"number",placeholder:"number",required:!0,name:"amount",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please define an amount."})]})]})]}),(0,r.jsxs)(o.A,{className:"mb-3",children:[(0,r.jsxs)(s.A.Group,{as:i.A,md:"6",controlId:"validationCustom03",children:[(0,r.jsx)(s.A.Label,{children:"Unit"}),(0,r.jsx)(s.A.Control,{type:"text",placeholder:"Oz, gram, ml",required:!0,name:"unit",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please provide a valid unit."})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"3",controlId:"validationCustom04",children:[(0,r.jsx)(s.A.Label,{children:"Calories per unit"}),(0,r.jsx)(s.A.Control,{type:"number",placeholder:"Calories",required:!0,name:"calories",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please provide an amount of calories per unit."})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"3",controlId:"validationCustom05",children:[(0,r.jsx)(s.A.Label,{children:"Fat"}),(0,r.jsx)(s.A.Control,{type:"number",placeholder:"Fat",required:!0,name:"fat",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please provide a fat value."})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"3",controlId:"validationCustom05",children:[(0,r.jsx)(s.A.Label,{children:"Carbs"}),(0,r.jsx)(s.A.Control,{type:"number",placeholder:"Carbs",required:!0,name:"carbs",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please provide a carbs value."})]}),(0,r.jsxs)(s.A.Group,{as:i.A,md:"3",controlId:"validationCustom05",children:[(0,r.jsx)(s.A.Label,{children:"Protein"}),(0,r.jsx)(s.A.Control,{type:"number",placeholder:"Protein",required:!0,name:"protein",onChange:_}),(0,r.jsx)(s.A.Control.Feedback,{type:"invalid",children:"Please provide a protein value."})]})]})]})}),(0,r.jsxs)(h.A.Footer,{children:[(0,r.jsx)(c.A,{variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),(0,r.jsx)(c.A,{variant:"primary",type:"submit",form:"addItemForm",children:"Add Item"})]})]}),(0,r.jsxs)(h.A,{fullscreen:!0,show:a,onHide:()=>p(!1),children:[(0,r.jsx)(h.A.Header,{closeButton:!0,children:(0,r.jsx)(h.A.Title,{children:"Search Food"})}),(0,r.jsxs)(h.A.Body,{children:[(0,r.jsx)(s.A,{children:(0,r.jsx)(s.A.Group,{className:"mb-3",controlId:"searchForm",children:(0,r.jsx)(s.A.Control,{type:"text",placeholder:"Search",onChange:e=>g(e.target.value)})})}),(0,r.jsx)(m.A,{children:Y.map(e=>(0,r.jsx)(A.A,{active:F.name==e.name,onClick:()=>k(e),children:e.name},e.name))})]}),(0,r.jsxs)(h.A.Footer,{children:[(0,r.jsxs)(s.A.Group,{className:"mb-3",controlId:"quantityForm",children:[(0,r.jsx)(s.A.Control,{type:"number",min:1,ref:z,placeholder:"Quantity"}),(0,r.jsx)(s.A.Label,{className:"text-muted",children:F.unit})]}),(0,r.jsx)(c.A,{variant:"primary",onClick:()=>K(F,z),children:"Add Food"})]})]}),(0,r.jsxs)(h.A,{show:b,onHide:()=>C(!1),children:[(0,r.jsx)(h.A.Header,{closeButton:!0,children:(0,r.jsxs)(h.A.Title,{children:["Edit Item: ",I.name]})}),(0,r.jsx)(h.A.Body,{children:(0,r.jsx)(s.A,{children:(0,r.jsxs)(s.A.Group,{className:"mb-3",controlId:"searchForm",children:[(0,r.jsx)(s.A.Control,{ref:O,type:"number",placeholder:"Amount"}),(0,r.jsx)(s.A.Label,{className:"text-muted",children:I.unit})]})})}),(0,r.jsx)(h.A.Footer,{children:(0,r.jsx)(c.A,{variant:"primary",onClick:()=>U(I,O),children:"Save"})})]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[628,690,527,441,517,358],()=>n(8205)),_N_E=e.O()}]);